<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.openkitchen.mypage">
	
<select id="mypageInfo" parameterType="int" resultType="mydto">

		SELECT DISTINCT MIX.T_PERSTATUS,MIX2.C_PERSTATUS,S_PERSTATUS,M.M_NAME
		FROM
		(SELECT NVL(T_PERSTATUS,'NOINFO') T_PERSTATUS
		FROM TEACHER RIGHT OUTER JOIN DUAL
		ON T_NO=#{mNo}) MIX ,
		( SELECT NVL(C_PERSTATUS,'NOINFO') C_PERSTATUS
		FROM CLASS RIGHT OUTER JOIN DUAL
		ON T_NO=#{mNo}) MIX2,(SELECT NVL(S_PERSTATUS,'NOINFO') S_PERSTATUS
		FROM SPACE RIGHT OUTER JOIN DUAL
		ON H_NO=#{mNo}) S,(SELECT M_NAME FROM MEMBERINFO WHERE M_NO=#{mNo}) M


	</select>


</mapper>